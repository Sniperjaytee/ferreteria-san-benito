{% extends 'base.html' %}

{% block title %}Confirmación{% endblock %}

{% block content %}
<main class="container mx-auto px-3 py-6 sm:px-4 sm:py-8">
  <div class="bg-white rounded-lg shadow p-6 text-center">
    <h1 class="text-2xl font-bold mb-2">¡Gracias por tu compra!</h1>
    <p class="mb-2">Tu pedido <span class="font-semibold">{{ pedido.numero_pedido }}</span> fue registrado.</p>
    <p class="text-base-sub mb-2">Revisaremos tu pago y nuestro equipo se comunicará contigo por WhatsApp al <span class="font-medium">{{ pedido.telefono_contacto }}</span>.</p>
    {% with msg='Hola! Tengo una consulta sobre mi pedido '|add:pedido.numero_pedido %}
      <a class="inline-flex items-center gap-2 px-4 py-2 mb-2 rounded bg-green-500 text-white" target="_blank" rel="noopener" href="{{ whatsapp_link }}?text={{ msg|urlencode }}">
        <i class="fab fa-whatsapp"></i> Contactar por WhatsApp
      </a>
    {% endwith %}
    <p class="text-xs text-base-sub mb-4">Serás redirigido al inicio en 5 segundos.</p>
    <a class="inline-block px-4 py-2 rounded bg-secondary text-white" href="{% url 'core:index' %}">Volver al inicio</a>
  </div>
</main>
{% endblock %}

{% block scripts %}
{{ block.super }}
<script>
  setTimeout(function () {
    window.location.href = "{% url 'core:index' %}";
  }, 5000);
  </script>
{% endblock %}
